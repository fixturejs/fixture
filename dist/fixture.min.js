/*!
fixture - v1.2.1 - 2014-07-06
https://github.com/kflorence/fixture
A simple, lightweight JavaScript fixture API.

Copyright (C) 2014 Kyle Florence
Released under the BSD, MIT licenses
*/!function(a,b){"function"==typeof define&&define.amd?define([],b):a.Fixture=b()}(this,function(){function a(a,b){var c;b=b||{};for(c in b)a[c]=b[c];return a}function b(a){return b.isFixture(this)?(this.data={},this.uuid=f++,void e.extend(this,a)):new b(a)}function c(){this.items=[]}var d=/function ([^(]+)/,e={};a(e,{clone:function(a){var b,c={};for(b in a)c[b]=a[b];return c},extend:a,makeArray:function(a){return"array"===this.typeOf(a)?a:[a]},noop:function(){},typeOf:function(a){var b,c;return null==a?a+"":"object"==(c=typeof a)||"function"===c?(b=d.exec(a.constructor.toString()))&&b[1]&&b[1].toLowerCase()||"object":c}});var f=0;return e.extend(b.prototype,{attach:e.noop,detach:e.noop,equals:function(a){return b.isFixture(a)&&this.uuid===a.uuid},interact:e.noop,toString:function(){return"Fixture:"+this.uuid},verify:e.noop}),e.extend(b,{create:function(a){return a=this.normalize(a),a&&!this.isFixture(a)&&(a=new b(a)),a},define:function(a,b,c){if("object"===e.typeOf(a)&&(c=b,b=a,a=b.name),b=this.normalize(b),b.name=a,"object"!==e.typeOf(b)||"string"!==e.typeOf(b.name)||"function"!==e.typeOf(b.attach)&&"function"!==e.typeOf(b.detach)&&"function"!==e.typeOf(b.interact)&&"function"!==e.typeOf(b.verify))throw"Fixture definition is invalid.";if(this.definitions[a]&&c!==!0)throw"Fixture definition name already exists: "+a;return this.definitions[a]=b,b},definitions:{},equal:function(a,b){return this.isFixture(a)&&a.equals(b)},get:function(a,b){var c=this.definitions[a];return c&&(c=e.extend(e.clone(c),this.normalize(b))),c},isFixture:function(a){return"fixture"===e.typeOf(a)},normalize:function(a){var b,c=e.typeOf(a);return"string"===c?b=this.get(a):"function"===c?b={interact:a}:"object"===c?b=this.get(a.name,a)||a:this.isFixture(a)&&(b=a),b},remove:function(a){var b=this.definitions[a];return b&&delete this.definitions[a],b}}),e.extend(c.prototype,{add:function(a){var c=b.create(a);return c&&this.items.push(c),c},get:function(a,b){var c,d,f,g,h=[];if(null==a)h=h.push.apply(h,this.items);else for(g=e.makeArray(a),d=0;d<g.length;d++)for(a=g[d],f=0;f<this.items.length;f++)c=this.items[f],(a===c||a===c.name||a===c.uuid)&&h.push(b?f:c);return h},has:function(a){var b=e.makeArray(a);return b.length===this.get(b).length},remove:function(a){var b,c=[],d=[],e=this.get(a,!0);for(b=0;b<this.items.length;b++)(e.indexOf(b)<0?d:c).push(this.items[b]);return this.items=d,c},removeAll:function(){var a=this.items;return this.items=[],a}}),b.Repository=c,b});